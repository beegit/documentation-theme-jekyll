<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href='//fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/syntax.css"  type='text/css'>
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/font-awesome.min.css">
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/bootstrap.min.css">
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/modern-business.css">
    <link rel="stylesheet" href="/jekyll-doc/stylesheets/lavish-bootstrap.css"  type='text/css'>
              <!-- to easily brand your theme, use http://www.lavishbootstrap.com/ -->
    <link rel="stylesheet" href="/jekyll-doc/stylesheets/customstyles.css"  type='text/css'>
    <link rel="canonical" href="http://tomjohnson1492.github.io/jekyll-doc/creating_print_output/">
    <link rel="stylesheet" href="/jekyll-doc/stylesheets/jquery.navgoco.css"  type='text/css'>
    <link rel="stylesheet" href="" | prepend:site.baseurl }}"  type='text/css'>
    <link rel="canonical" href="http://tomjohnson1492.github.io/jekyll-doc/creating_print_output/">
  <link rel="alternate" type="application/rss+xml" title="Jekyll-doc" href="http://tomjohnson1492.github.io/jekyll-doc/feed.xml" />
    <script src="/jekyll-doc/js/jquery.min.js"></script>
    <script src="/jekyll-doc/js/jquery.cookie.min.js"></script>
    <script src="/jekyll-doc/js/jquery.navgoco.min.js"></script>
    <script src="/jekyll-doc/js/bootstrap.min.js"></script>
    <script src="/jekyll-doc/js/toc.js"></script>
    <script src=""></script>
       <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <title>Creating a printed guide | Jekyll-doc</title>
     <meta name="description" content="A theme based on Jekyll designed for technical writers creating help systems. Feel free to clone, fork, and otherwise use. It's all open source and free to implement.  Please consider contributing back any innovations you make so that others can benefit.
">
 
<!-- add all your links here -->

<!-- Here's a sample link. This stores the link as "sample_workflow" and correlates it to the permalink. To embed it, just use . If you ever need to change the page title or link, you can do so from here.-->



<!-- callouts -->















<!-- alerts -->







































  </head>

<body>


    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                 <a class="fa fa-home fa-lg navbar-brand" href="/jekyll-doc/">&nbsp; Jekyll-doc</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

<!-- entries without drop-downs appear here -->
  
  

      
    
      <li><a href="/jekyll-doc/cshelp/">Context-sensitive help</a></li>
    
          
    

      
    
      <li><a href="/jekyll-doc/alerts/">Alerts</a></li>
    
          
    

      
    
      <li><a href="/jekyll-doc/collections/">Collections</a></li>
    
          
    


<!-- entries with drop-downs appear here -->

  
  
    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting started<b class="caret"></b></a>
         <ul class="dropdown-menu">
         
         
         
       <li><a href="/jekyll-doc/alerts/">Alerts</a></li>
       
    
         
         
       <li><a href="/jekyll-doc/build_arguments/">Build arguments</a></li>
       
    
    </ul>
    </li>
  
    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Hello World<b class="caret"></b></a>
         <ul class="dropdown-menu">
         
         
         
       <li><a href="/jekyll-doc/build_arguments/">Build arguments</a></li>
       
    
         
         
       <li><a href="/jekyll-doc/collections/">Collections</a></li>
       
    
    </ul>
    </li>
  
 
<li>
 <!-- start search -->
   <div id="search-demo-container">
      <input type="text" id="search-input" placeholder="search...">
      <ul id="results-container"></ul>
    </div>

    
    <script src="/jekyll-doc/js/jekyll-search.js" type="text/javascript"></script>
    
    
    <script type="text/javascript">
      SimpleJekyllSearch.init({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        dataSource: '/jekyll-doc/search.json',        
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: true,
      })
    </script>
    <!-- end search -->
 </li>


<!-- you can also just hard-code a section here, for example if you want to include external resources:
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Portfolio <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="portfolio-1-col.html">1 Column Portfolio</a>
                            </li>
                            <li>
                                <a href="portfolio-2-col.html">2 Column Portfolio</a>
                            </li>
                            <li>
                                <a href="portfolio-3-col.html">3 Column Portfolio</a>
                            </li>
                            <li>
                                <a href="portfolio-4-col.html">4 Column Portfolio</a>
                            </li>
                            <li>
                                <a href="portfolio-item.html">Single Portfolio Item</a>
                            </li>
                        </ul>
                    </li>



                    </li>
                </ul>

            </div>
            <!-- /.navbar-collapse -->
        </div>

        <!-- /.container -->
    </nav>


    <!-- Page Content -->
    <div class="container">
    <div class="col-lg-12">&nbsp;</div>

        <!-- Page Heading/Breadcrumbs -- site not hierarchical enough to support this feature well enough.
        <div class="row">
            <div class="col-lg-12">
               <h1 class="page-header">Creating a printed guide
                    <small></small>
                </h1> 
                &nbsp;
                <ol class="breadcrumb">
                    <li><a href="/jekyll-doc/">Home</a> Home</li>
                    
                    <li></li>
                    <li Creating a printed guide</li>
                    
                </ol>
            </div>
        </div>
        -->




 <!-- Content Row -->
        <div class="row">
            <!-- Sidebar Column -->
            <div class="col-md-3">

<script>
$(document).ready(function() {
    // Initialize navgoco with default options
    $("#mysidebar").navgoco({
        caretHtml: '',
        accordion: true,
        openClass: 'active', // open
        save: true,
        cookie: {
            name: 'navgoco',
            expires: false,
            path: '/'
        },
        slide: {
            duration: 400,
            easing: 'swing'
        }
    });

    $("#collapseAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', false);
    });

    $("#expandAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', true);
    });
});

</script>
  
<!-- note that the data file for your project needs to be specified in the code below. Instead of site.data.jekyll, use the data file corresponding to your project (create one if it doesn't already exist). -->

<ul id="mysidebar" class="nav">


  
  
    <li><a href="#">Getting started</a>
    <ul>
    
      
      <li><a href="/jekyll-doc/alerts/">Alerts</a></li>
    
    
      
      <li><a href="/jekyll-doc/build_arguments/">Build arguments</a></li>
    
    
    </ul>
    </li>
  
    <li><a href="#">Publishing</a>
    <ul>
    
      
      <li><a href="/jekyll-doc/collections/">Collections</a></li>
    
    
      
      <li><a href="/jekyll-doc/conditional_logic">Conditional logic</a></li>
    
    
      
      <li><a href="/jekyll-doc/cshelp/">Context-sensitive help</a></li>
    
    
    </ul>
    </li>
  
    <li><a href="#">Themes</a>
    <ul>
    
      
      <li><a href="/jekyll-doc/demo/">Demo</a></li>
    
    
      
      <li><a href="/jekyll-doc/faq/">FAQ</a></li>
    
    
      
      <li><a href="/jekyll-doc/dummytext/">Dummy Text</a></li>
    
    
    </ul>
    </li>
  
    <li><a href="#">Setting up sites</a>
    <ul>
    
      
      <li><a href="/jekyll-doc/firststeps/">First Steps</a></li>
    
    
      
      <li><a href="/jekyll-doc/gemfiles/">Gem files</a></li>
    
    
      
      <li><a href="/jekyll-doc/icons/">Icons</a></li>
    
    
      
      <li><a href="/jekyll-doc/images/">Images</a></li>
    
    
    </ul>
    </li>
  
    <li><a href="#">Findability</a>
    <ul>
    
      
      <li><a href="/jekyll-doc/integrate_lunr_search/">Integrate Lunr Search</a></li>
    
    
      
      <li><a href="/jekyll-doc/labels/">Labels</a></li>
    
    
      
      <li><a href="/jekyll-doc/lavish/">Lavish</a></li>
    
    
      
      <li><a href="/jekyll-doc/links/">Links</a></li>
    
    
      
      <li><a href="/jekyll-doc/markdown_readability/">Markdown readability</a></li>
    
    
      
      <li><a href="/jekyll-doc/page_level_variables/">Page-level variables</a></li>
    
    
      
      <li><a href="/jekyll-doc/plugins/">Plugins</a></li>
    
    
      
      <li><a href="/jekyll-doc/sample/">Sample</a></li>
    
    
      
      <li><a href="/jekyll-doc/scroll/">Scroll</a></li>
    
    
      
      <li><a href="/jekyll-doc/setting_up/">Setting up</a></li>
    
    
      
      <li><a href="/jekyll-doc/snippets/">Snippets</a></li>
    
    
      
      <li><a href="/jekyll-doc/syntax_highlighting/">Syntax highlighting</a></li>
    
    
      
      <li><a href="/jekyll-doc/tables/">Tables</a></li>
    
    
      
      <li><a href="/jekyll-doc/tags/">Tags</a></li>
    
    
    </ul>
    </li>
  



        </div> <!-- end sidebar column -->




            <!-- Content Column -->
            <div class="col-md-9">

                <div class="post-header">
  <h1 class="post-title-main">Creating a printed guide</h1>
</div>
<div class="post-content">


<div class="post-summary"></div>


<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });


$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

<p>Although you can serve Jekyll sites locally, you have to run them on a server. You can&#39;t just deliver a set of static HTML files for anyone to view in a browser. The problem is that the paths to the stylesheets and other resources don&#39;t have a consistent to them. See this <a href="http://stackoverflow.com/questions/18068423/jekyll-serve-locally-without-building">StackOverflow question</a> and especially this one: <a href="http://stackoverflow.com/questions/26778329/running-jekyll-generated-files-without-jekyll-local-server">StackOverflow</a>.</p>

<p>Here&#39;s the approach I&#39;m taking. </p>

<ol>
<li>Create a special configuration file designed for the print output. Call it configuration_acme_print.yml.</li>
<li><p>Change the default page layout to print in this configuration file. Here&#39;s what that looks like: </p></li>
<li><p>Clone the default.html layout, change it to print.html.</p></li>
<li><p>Create a markdown page that consists of nothing but the includes that you want for the print output. It will look something like this. Make sure it&#39;s a markdown file because you&#39;re inserting pages that include markdown, so you need them to be processed as such. just be careful with spacing in this file so your liquid tags aren&#39;t processed incorrectly.</p></li>
</ol>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid">---
title: Printed manual
permalink: /print/
layout: none
---

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>p<span class="w"> </span>in<span class="w"> </span>site.pages<span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">p</span><span class="p">.</span><span class="nv">permalink</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;/troubleshooting_hmac/&quot;</span><span class="w"> </span><span class="p">%}</span>
&lt;h1&gt;<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">title</span><span class="p">}}</span>&lt;/h1&gt;
<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">content</span><span class="p">}}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>p<span class="w"> </span>in<span class="w"> </span>site.pages<span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">p</span><span class="p">.</span><span class="nv">permalink</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;/release_notes/&quot;</span><span class="w"> </span><span class="p">%}</span>
&lt;h1&gt;<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">title</span><span class="p">}}</span>&lt;/h1&gt;
<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">content</span><span class="p">}}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>p<span class="w"> </span>in<span class="w"> </span>site.pages<span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">p</span><span class="p">.</span><span class="nv">permalink</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;/overview/&quot;</span><span class="w"> </span><span class="p">%}</span>
&lt;h1&gt;<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">title</span><span class="p">}}</span>&lt;/h1&gt;
<span class="p">{{</span><span class="nv">p</span><span class="p">.</span><span class="nv">content</span><span class="p">}}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div>
<p>make sure your layout is &quot;none.&quot; you will get a build warning:  Build Warning: Layout &#39;none&#39; requested in content/adtruth/printcompilation.md does not exist. But i think this is the only way to do it -- otherwise the page will be pushed through the default layout for the content -- the print layout as well as the existing layout specified here, such as page. then you&#39;d end up with two instances of the content.</p>

<p>there will be a lot of loops on this page, so it&#39;s better to use switch case. </p>

<p>the include will only pull the guts out of the page, ie the page content. it will not pull the page.layout wrapper that surrounds the page content. in normal publishing, the content for a page is pushed into page.html, and page.html has a tag that says <h1>Creating a printed guide</h1> that will print the title and such. but since the include only gets the page, it won&#39;t show the title because the include doesn&#39;t include the page&#39;s wrapper (page.html).</p>

<p>this also means that the frontmatter will also be included in the page. ugghhhh. </p>

<p>first, you have to add the h1 headings here manually. we need a special class for these h1 headings too, because we&#39;ll need to create something called an adjacent sibling combinator selector. this page explains it: <a href="http://css-tricks.com/child-and-sibling-selectors/">http://css-tricks.com/child-and-sibling-selectors/</a>. &quot;An adjacent sibling combinator selector allows you to select an element that is directly after another specific element.&quot;</p>

<p>so add this to your custom stylesheet:</p>

<p>h1.print + hr {
  display:none;
}</p>

<p>h1.print + hr + p {
  display:none;
}</p>

<p>h1.print + hr + p + hr{
  display:none;
}</p>

<p>now give the h1 elements a special class (called print).</p>

<p>but i decided to just manually add the h1&#39;s here. also give them a unique class.</p>

<p>so we have to do some magic tricks here. </p>

<p>here&#39;s a good stack overflow post: <a href="http://stackoverflow.com/questions/2606606/jekyll-documentation-to-pdf-with-toc">http://stackoverflow.com/questions/2606606/jekyll-documentation-to-pdf-with-toc</a></p>

<p>uh oh, when you have a tag or layout in the front matter, this is how it gets output in the html:</p>

<p>h2#tags:-implementation</p>

<p>i&#39;m not sure how to strip this out...</p>

<p>Then simply print it. By default, you won&#39;t have a TOC, page numbers, cross references, or other details. Here is where need to hand it off to a more powerful tool comes in. I recommend using Prince XML, since you can use CSS to define the look and feel of the printed output. </p>

<p>Prince CSS allows you to style XHTML documents using CSS. </p>

<p>Install prince: <a href="http://www.princexml.com/doc/installing/">http://www.princexml.com/doc/installing/</a></p>

<p>In your command line, cd to the directory that has your XHTML output to it (e.g., acme.html).</p>

<p>Type:</p>

<p>prince acme.html</p>

<p>Prince will render acme.pdf. </p>

<p>Now create a CSS stylesheet in the same directory --e.g., acmestyle.css</p>

<p>Then enter:</p>

<p>prince -s acmestyle.css acme.html</p>

<p>You&#39;ll see that prince applies the CSS styling to the acme.pdf output. </p>

<p>By using CSS instead of XSLT to create the PDF styling, you can single source between the styles you&#39;re already using for your CSS output online and your PDF styles.</p>

<p>Here&#39;s a powerpoint with more details: <a href="http://www.oxygenxml.com/events/2014/Slides_DITA_OT_Day_2014/DITA_Open_Toolkit_PDF_generation_with_CSS.pdf">http://www.oxygenxml.com/events/2014/Slides_DITA_OT_Day_2014/DITA_Open_Toolkit_PDF_generation_with_CSS.pdf</a></p>

<p>Here&#39;s a sample: <a href="http://buildr.apache.org/contributing.html">http://buildr.apache.org/contributing.html</a>. Buildr uses prince xml to get a pdf version of their docs. includes a numbered toc.</p>

</div>





    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idrbwjekyll'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    



            </div>
        </div>
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                     

Site last generated: Feb 16, 2015.
Built with <a href="http://jekyllrb.com/">Jekyll</a> using the <a href="http://tomjohnson1492.github.io/jekyll-doc/">Jekyll-doc theme</a>.



                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->



 
</body>

<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</html>

